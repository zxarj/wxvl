#  Apple 的 iOS 激活允许注入未经身份验证的 XML 负载漏洞  
 网安百色   2025-06-06 11:44  
  
在 Apple 的 iOS 激活基础设施中发现了一个严重的安全漏洞，该漏洞允许攻击者在设备设置阶段注入未经身份验证的 XML 负载。  
  
此缺陷会影响截至 2025 年 5 月的最新 iOS 18.5 稳定版本，使数百万台 Apple 设备面临潜在的激活前篡改和持续配置作，而无需任何形式的身份验证或签名验证。  
  
该漏洞以 Apple 位于 https://humb.apple.com/humbug/baa 的内部激活端点为目标，该端点在初始设置过程中处理设备配置请求。  
  
攻击者可以通过发送格式错误的 XML.plist 有效负载来利用此漏洞，服务器在没有适当验证的情况下接受和处理这些有效负载，从而为未经授权的配置更改创造机会，这些更改在激活阶段之后仍然存在。  
  
Substack 分析师通过对 iOS 激活后端的广泛测试发现了这个漏洞，揭示了服务器对格式错误的内容的容忍度和对 DOCTYPE 声明的支持会产生多个攻击向量。  
  
该研究表明，激活基础设施缺乏发件人验证机制，因此可以静默地进行任意配置修改，而不会向设备或 Apple 的监控系统提供错误反馈。  
## 技术攻击机制  
  
核心漏洞在于激活服务器的 XML 解析实现，它无法实现处理外部数据通常需要的基本安全控制。  
  
当设备启动激活过程时，它会通过包含设备标识符和配置信息的 XML 格式请求与 Apple 的后端进行通信。  
  
服务器接受未签名的负载意味着攻击者可以制作恶意 XML 文档，在激活期间修改设备配置。  
  
这些有效负载可以包括 DOCTYPE 声明，这些声明可能会启用 XML 外部实体 （XXE） 攻击或其他基于 XML 的利用技术。  
  
缺少签名验证意味着服务器无法区分合法的 Apple 生成的配置数据和攻击者控制的内容，这使得此漏洞对于设备配置策略对安全合规性至关重要的企业部署尤其危险。  
  
**免责声明**  
：  
  
本公众号所载文章为本公众号原创或根据网络搜索下载编辑整理，文章版权归原作者所有，仅供读者学习、参考，禁止用于商业用途。因转载众多，无法找到真正来源，如标错来源，或对于文中所使用的图片、文字、链接中所包含的软件/资料等，如有侵权，请跟我们联系删除，谢谢！  
  
![图片](https://mmbiz.qpic.cn/mmbiz_jpg/1QIbxKfhZo5lNbibXUkeIxDGJmD2Md5vKicbNtIkdNvibicL87FjAOqGicuxcgBuRjjolLcGDOnfhMdykXibWuH6DV1g/640?wx_fmt=other&from=appmsg&wxfrom=5&wx_lazy=1&wx_co=1&tp=webp "")  
  
