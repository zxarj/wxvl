#  企业内部安全漏洞修复流程的建立与思考（其三）   
 云下信安   2025-06-06 04:11  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/GXibMZibXNJ8RvWtUJOodBH8jeXoEWStJ4oUIYyMmYAKIl4baUrkRlm0f5xbcrJRnhTq5gsbncmZZAjr6XQGrgUA/640?wx_fmt=png&from=appmsg "")  
  
  
最近因为护网的工作原因比较忙，再加上一些其他事情，更新下来了，现在忙里偷闲，继续针对漏洞的事情，进行分享。  
## 3.漏洞修复具体方案  
### 3.1补丁修复  
  
笔者这里主要接触到的漏洞修复方案主要是涉及补丁修复、代码修复和提高相关网络措施或其他进行调整。（组件替代和系统关停、下线笔者这里认为偏向于业务侧或监管侧，并非是漏洞修复方面的主要职责），主要注意如下情况：  
  
1.升级包/补丁包等的来源安全性  
  
2.升级/补丁之后的兼容性（包括技术上的兼容和业务上的无感知）  
  
3.是否为正常渠道获取的补丁（涉及到维保、合规等）  
  
4.升级/补丁安装后是否能真正意义上的修复漏洞  
  
针对这几点其实其他修复方案也有或多或少的涉及，后续在注意事项中分析。  
### 3.2 代码修复  
  
代码修复一般主要针对逻辑类漏洞，如暴力破解、越权等，这类主要是由开发部门进行评估修复，这里主要是涉及到一些采购、漏洞修复情况、业务影响等，主要如下：  
  
1.在修复逻辑漏洞时，需要采购额外的组件，如短信验证码、滑块验证码、认证机制等，需要进行采购、适配等，这个时候的修复周期会较长。  
  
2.修复时需要确定是否修复成功（举例：sql注入时，不单单是过滤等，业务允许的情况下还需要进行预编译），这个时候需要开发人员针对漏洞的修复有前瞻性，并且要和安全部门的人员保持好有效的修复沟通机制。  
  
3.逻辑漏洞修复后是否会对业务造成影响，是否对业务无感知。  
  
这里附一下逻辑漏洞的修复方案。  
```
```  
  
![](https://mmbiz.qpic.cn/sz_mmbiz_png/GXibMZibXNJ8RvWtUJOodBH8jeXoEWStJ4PyTamfb0YuOcbtl1fMV53Kv2zfS8I1UiaZkxIHicELkG7pmBQlnVwBXA/640?wx_fmt=png&from=appmsg "")  
  
### 3.3 临时规避措施  
  
在很多时候，比如单位有关于漏洞处置有时间要求的情况下（高危一天、中危五天等），具体操作时可能存在滞后性，这个时候更多的是增加临时规避措施，例如增加WAF规则、配置调整等。  
  
最常见的就是通过WAF、EDR、HIDS这些可以进行拦截的安全设备，进行相关策略的添加，例如关键字、可疑路径、相关特征值等，但是在添加时需要注意。  
  
1.相关网络设备的过略/防护的支持力度是否有那么高  
  
2.是否会对正常的业务造成影响  
  
3.规则是否生效  
### 3.4 注意事项  
  
针对上述三点修复时，具体实施时需要注意如下事项。  
  
1.首先，相关升级/补丁包在进入测试环境、生产环境时要进行严格的管控，说明相关的来源（最好是官方或者维保合同要求）、文件md5值、文件查杀情况，最好可以的话附上相关沙箱报告，确保补丁文件的安全可控。  
  
2.在涉及到具体修复时，无论是逻辑漏洞，还是组件漏洞，在修复之前，一定要评估漏洞影响性，是否会对系统或环境造成巨大影响（例如：jdk版本升级、mysql替代等），在该类漏洞修复时，就需要额外的流程，针对开发部门、安全部门、运维部门等进行交流、沟通，对升级/修复方案进行评审，做预案，同时联系业务侧，在测试环境进行严格的业务测试（注：业务测试相关细节在其五中阐述）。  
  
3.漏洞修复完成后，需要进行复测，根据单位的现有环境，由安全部门牵头，对修复的组件、系统、服务器进行验证，验证是否修复漏洞、组件版本是否升级，做好相关台账和记录，后续在上生产环境时，需要安全部门针对修复的漏洞进行一定程度的背书。  
  
4.在涉及到漏洞修复可能会对业务造成影响时（举例：jdk版本升级、mysql替代等），笔者觉得，应该以技术部门的视角进行看待，技术部门（包括开发、运维和安全）应保持相关的底线，即解决事情的角度进行分析，相关讨论会时，做好预案，最好不要把这个漏洞修不修的权利交由业务部门，这样很多漏洞尤其是重要漏洞的修复无法推进下去，当然，这要看具体部门的领导的态度。  
  
5.临时规避措施这块，需要对设备定期巡检，一些WAF、防火墙的封禁策略有极限（比如上限一万条），这个时候需要定期清理已修复的安全规则等，做好设备规则库可用的冗余。  
  
